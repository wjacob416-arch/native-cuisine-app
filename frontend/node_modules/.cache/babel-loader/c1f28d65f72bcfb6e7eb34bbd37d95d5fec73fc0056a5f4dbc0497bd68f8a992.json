{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\wjaco\\\\CS351\\\\fgp-group6\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport RecipeReviews from \"./RecipeReviews\";\nimport AddReview from \"./AddReview\";\nimport TopRatedRecipes from \"./TopRatedRecipes\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [recipes, setRecipes] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [ingredient, setIngredient] = useState(\"\");\n  const [ingredientSuggestions, setIngredientSuggestions] = useState([]);\n  const [recipeSuggestions, setRecipeSuggestions] = useState([]);\n  const [showRecipeSuggestions, setShowRecipeSuggestions] = useState(false);\n  const [showIngredientSuggestions, setShowIngredientSuggestions] = useState(false);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [expandedRecipe, setExpandedRecipe] = useState(null);\n  const [scraping, setScraping] = useState(false);\n  const [scrapingMessage, setScrapingMessage] = useState(\"\");\n  const [fixingRecipe, setFixingRecipe] = useState(false);\n  const [showReviews, setShowReviews] = useState(false);\n  const [showAddReview, setShowAddReview] = useState(false);\n  const [showTopRated, setShowTopRated] = useState(false);\n  const [initialLoad, setInitialLoad] = useState(true);\n\n  // Initial fetch of all recipes when the component mounts\n  useEffect(() => {\n    fetchRecipes();\n\n    // Check if we need to auto-scrape\n    // This will run once when the component mounts\n    const checkRecipeCount = async () => {\n      try {\n        const res = await axios.get(\"http://127.0.0.1:5000/get-greatlakes\");\n        if (res.data && res.data[\"Great Lakes\"] && res.data[\"Great Lakes\"].length < 10) {\n          // If we have fewer than 10 recipes, auto-scrape\n          autoScrapeRecipes();\n        }\n      } catch (err) {\n        console.error(\"Error checking recipe count:\", err);\n        // If there's an error, try to auto-scrape anyway\n        autoScrapeRecipes();\n      }\n      setInitialLoad(false);\n    };\n    checkRecipeCount();\n  }, []);\n\n  // Function to auto-scrape recipes\n  const autoScrapeRecipes = async () => {\n    setScraping(true);\n    setScrapingMessage(\"Automatically scraping Native American recipes... This may take a few minutes.\");\n    try {\n      const response = await axios.get(\"http://127.0.0.1:5000/auto-scrape\");\n      if (response.data.success) {\n        setScrapingMessage(`Successfully added ${response.data.new_recipes.length} new Native American recipes!`);\n        // Refresh recipes after scraping\n        fetchRecipes();\n      } else {\n        setError(\"Failed to scrape recipes\");\n      }\n    } catch (err) {\n      console.error(\"Error auto-scraping recipes:\", err);\n      setError(\"Error connecting to server. Please try again.\");\n    } finally {\n      // Keep the success message visible for a while, then hide it\n      setTimeout(() => {\n        setScraping(false);\n        setScrapingMessage(\"\");\n      }, 5000);\n    }\n  };\n\n  // Function to fetch recipes based on search criteria\n  const fetchRecipes = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      console.log(`Fetching recipes with name: \"${search}\" and ingredient: \"${ingredient}\"`);\n\n      // Build query parameters\n      const params = {};\n      if (search) params.name = search;\n      if (ingredient) params.ingredient = ingredient;\n      console.log(\"Request params:\", params);\n      const res = await axios.get(\"http://127.0.0.1:5000/get-greatlakes\", {\n        params\n      });\n      console.log(\"Response data:\", res.data);\n      if (res.data && res.data[\"Great Lakes\"]) {\n        setRecipes(res.data[\"Great Lakes\"]);\n        if (res.data[\"Great Lakes\"].length === 0) {\n          setError(\"No recipes found matching your search criteria.\");\n        }\n      } else {\n        console.error(\"Unexpected response format:\", res.data);\n        setError(\"Received an unexpected response format from the server.\");\n      }\n    } catch (err) {\n      console.error(\"Error fetching recipes:\", err);\n      setRecipes([]);\n      setError(\"Unable to connect to the server. Please make sure your Flask backend is running.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Function to fetch recipe name suggestions\n  const fetchRecipeSuggestions = async query => {\n    if (!query || query.length < 2) {\n      setRecipeSuggestions([]);\n      return;\n    }\n    try {\n      const res = await axios.get(`http://127.0.0.1:5000/suggest-recipes?q=${query}`);\n      if (res.data && res.data.suggestions) {\n        setRecipeSuggestions(res.data.suggestions);\n        setShowRecipeSuggestions(true);\n      }\n    } catch (err) {\n      console.error(\"Error fetching recipe suggestions:\", err);\n      setRecipeSuggestions([]);\n    }\n  };\n\n  // Function to fetch ingredient suggestions\n  const fetchIngredientSuggestions = async query => {\n    if (!query || query.length < 2) {\n      setIngredientSuggestions([]);\n      return;\n    }\n    try {\n      const res = await axios.get(`http://127.0.0.1:5000/suggest-ingredients?q=${query}`);\n      if (res.data && res.data.suggestions) {\n        setIngredientSuggestions(res.data.suggestions);\n        setShowIngredientSuggestions(true);\n      }\n    } catch (err) {\n      console.error(\"Error fetching ingredient suggestions:\", err);\n      setIngredientSuggestions([]);\n    }\n  };\n\n  // Handle recipe input change for autocomplete\n  const handleRecipeChange = e => {\n    const value = e.target.value;\n    setSearch(value);\n    fetchRecipeSuggestions(value);\n  };\n\n  // Handle ingredient input change\n  const handleIngredientChange = e => {\n    const value = e.target.value;\n    setIngredient(value);\n    fetchIngredientSuggestions(value);\n  };\n\n  // Handle selecting a recipe suggestion\n  const selectRecipe = suggestion => {\n    setSearch(suggestion);\n    setShowRecipeSuggestions(false);\n  };\n\n  // Handle selecting an ingredient suggestion\n  const selectIngredient = suggestion => {\n    setIngredient(suggestion);\n    setShowIngredientSuggestions(false);\n  };\n\n  // Handle form submission\n  const handleSubmit = e => {\n    e.preventDefault();\n    setShowRecipeSuggestions(false);\n    setShowIngredientSuggestions(false);\n    fetchRecipes();\n  };\n\n  // Toggle expanded recipe\n  const toggleRecipe = idx => {\n    setExpandedRecipe(expandedRecipe === idx ? null : idx);\n    setShowReviews(false);\n    setShowAddReview(false);\n  };\n\n  // Handle manual scrape button click\n  const handleManualScrape = () => {\n    autoScrapeRecipes();\n  };\n\n  // Function to fix all missing recipes\n  const handleFixMissingRecipes = async () => {\n    setFixingRecipe(true);\n    setError(null);\n    try {\n      const response = await axios.get(\"http://127.0.0.1:5000/fix-missing-recipes\");\n      if (response.data.success) {\n        alert(`${response.data.message}. Failed recipes: ${response.data.failed_recipes.join(\", \")}`);\n        // Refresh recipes after fixing\n        fetchRecipes();\n      } else {\n        setError(\"Failed to fix recipes\");\n      }\n    } catch (err) {\n      console.error(\"Error fixing recipes:\", err);\n      setError(\"Error connecting to server. Please try again.\");\n    } finally {\n      setFixingRecipe(false);\n    }\n  };\n\n  // Function to fix a specific recipe\n  const handleFixRecipe = async recipeName => {\n    setFixingRecipe(true);\n    setError(null);\n    try {\n      const response = await axios.get(`http://127.0.0.1:5000/fix-recipe/${encodeURIComponent(recipeName)}`);\n      if (response.data.success) {\n        alert(`Successfully fixed recipe: ${recipeName}`);\n        // Refresh recipes after fixing\n        fetchRecipes();\n      } else {\n        setError(`Failed to fix recipe: ${recipeName}`);\n      }\n    } catch (err) {\n      console.error(`Error fixing recipe ${recipeName}:`, err);\n      setError(`Error fixing recipe: ${recipeName}. Please try again.`);\n    } finally {\n      setFixingRecipe(false);\n    }\n  };\n\n  // Check if a recipe needs fixing\n  const recipeNeedsFixing = recipe => {\n    // Check if ingredients are missing or just have the placeholder\n    const missingIngredients = !recipe.ingredients || recipe.ingredients.length === 1 && recipe.ingredients[0] === \"Ingredients not found\";\n\n    // Check if instructions are missing or just have the placeholder\n    const missingInstructions = !recipe.instructions || recipe.instructions.length === 1 && recipe.instructions[0] === \"Instructions not found\";\n    return missingIngredients || missingInstructions;\n  };\n\n  // Toggle reviews for a recipe\n  const toggleReviews = idx => {\n    if (expandedRecipe === idx) {\n      setShowReviews(!showReviews);\n      if (showAddReview) setShowAddReview(false);\n    } else {\n      setExpandedRecipe(idx);\n      setShowReviews(true);\n      setShowAddReview(false);\n    }\n  };\n\n  // Toggle add review form for a recipe\n  const toggleAddReview = idx => {\n    if (expandedRecipe === idx) {\n      setShowAddReview(!showAddReview);\n      if (showReviews) setShowReviews(false);\n    } else {\n      setExpandedRecipe(idx);\n      setShowAddReview(true);\n      setShowReviews(false);\n    }\n  };\n\n  // Toggle top rated recipes\n  const toggleTopRated = () => {\n    setShowTopRated(!showTopRated);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83C\\uDF72 Native American Cuisine: Great Lakes Region\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Discover traditional recipes from the Great Lakes region\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app-main\",\n      children: [scraping && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scraping-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: scrapingMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Search Recipes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"search-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recipe-search-container\",\n            style: {\n              position: \"relative\",\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search by recipe name\",\n              value: search,\n              onChange: handleRecipeChange,\n              onFocus: () => search && setShowRecipeSuggestions(true),\n              onBlur: () => setTimeout(() => setShowRecipeSuggestions(false), 200),\n              className: \"search-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), showRecipeSuggestions && recipeSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"suggestions\",\n              children: recipeSuggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: () => selectRecipe(suggestion),\n                className: \"suggestion-item\",\n                children: suggestion\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ingredient-search-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Filter by ingredient\",\n              value: ingredient,\n              onChange: handleIngredientChange,\n              onFocus: () => ingredient && setShowIngredientSuggestions(true),\n              onBlur: () => setTimeout(() => setShowIngredientSuggestions(false), 200),\n              className: \"search-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), showIngredientSuggestions && ingredientSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"ingredient-suggestions\",\n              children: ingredientSuggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: () => selectIngredient(suggestion),\n                className: \"suggestion-item\",\n                children: suggestion\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"search-button\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleManualScrape,\n          className: \"admin-button\",\n          disabled: scraping || fixingRecipe,\n          children: scraping ? \"Scraping...\" : \"Scrape More Recipes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleFixMissingRecipes,\n          className: \"admin-button\",\n          disabled: scraping || fixingRecipe,\n          children: fixingRecipe ? \"Fixing...\" : \"Fix All Missing Recipes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleTopRated,\n          className: \"admin-button\",\n          children: showTopRated ? \"Hide Top Rated\" : \"Show Top Rated Recipes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), showTopRated && /*#__PURE__*/_jsxDEV(TopRatedRecipes, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 26\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading recipes...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 11\n      }, this), error && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recipes-container\",\n        children: recipes.map((recipe, idx) => {\n          var _recipe$ingredients, _ref;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recipe-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recipe-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                onClick: () => toggleRecipe(idx),\n                children: recipe.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recipe-actions\",\n                children: [recipeNeedsFixing(recipe) && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleFixRecipe(recipe.name);\n                  },\n                  className: \"fix-button\",\n                  disabled: fixingRecipe,\n                  children: \"Fix Recipe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => toggleReviews(idx),\n                  className: `review-button ${showReviews && expandedRecipe === idx ? \"active\" : \"\"}`,\n                  children: \"Reviews\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => toggleAddReview(idx),\n                  className: `add-review-button ${showAddReview && expandedRecipe === idx ? \"active\" : \"\"}`,\n                  children: \"Add Review\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => toggleRecipe(idx),\n                  children: expandedRecipe === idx ? \"‚ñ≤\" : \"‚ñº\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), expandedRecipe === idx && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recipe-details\",\n              children: showReviews ? /*#__PURE__*/_jsxDEV(RecipeReviews, {\n                recipeName: recipe.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 21\n              }, this) : showAddReview ? /*#__PURE__*/_jsxDEV(AddReview, {\n                recipeName: recipe.name,\n                onReviewAdded: () => {\n                  setShowAddReview(false);\n                  setShowReviews(true);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ingredients\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"Ingredients\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    children: (_recipe$ingredients = recipe.ingredients) === null || _recipe$ingredients === void 0 ? void 0 : _recipe$ingredients.map((ing, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: ing\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 432,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"instructions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"Instructions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n                    children: (_ref = recipe.instructions || recipe.Instructions || recipe.Directions) === null || _ref === void 0 ? void 0 : _ref.map((step, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: step\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 441,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 23\n                }, this), recipe.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"notes\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"Notes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: recipe.notes\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this), recipes.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"recipe-count\",\n        children: [\"Showing \", recipes.length, \" recipe\", recipes.length !== 1 ? \"s\" : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"app-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Native American Cuisine Database - Great Lakes Region\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"y6jK0T5oK1CRI+/6IQd+0MfDazM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","axios","RecipeReviews","AddReview","TopRatedRecipes","jsxDEV","_jsxDEV","Fragment","_Fragment","App","recipes","setRecipes","search","setSearch","ingredient","setIngredient","ingredientSuggestions","setIngredientSuggestions","recipeSuggestions","setRecipeSuggestions","showRecipeSuggestions","setShowRecipeSuggestions","showIngredientSuggestions","setShowIngredientSuggestions","error","setError","loading","setLoading","expandedRecipe","setExpandedRecipe","scraping","setScraping","scrapingMessage","setScrapingMessage","fixingRecipe","setFixingRecipe","showReviews","setShowReviews","showAddReview","setShowAddReview","showTopRated","setShowTopRated","initialLoad","setInitialLoad","fetchRecipes","checkRecipeCount","res","get","data","length","autoScrapeRecipes","err","console","response","success","new_recipes","setTimeout","log","params","name","fetchRecipeSuggestions","query","suggestions","fetchIngredientSuggestions","handleRecipeChange","e","value","target","handleIngredientChange","selectRecipe","suggestion","selectIngredient","handleSubmit","preventDefault","toggleRecipe","idx","handleManualScrape","handleFixMissingRecipes","alert","message","failed_recipes","join","handleFixRecipe","recipeName","encodeURIComponent","recipeNeedsFixing","recipe","missingIngredients","ingredients","missingInstructions","instructions","toggleReviews","toggleAddReview","toggleTopRated","className","children","fileName","lineNumber","columnNumber","onSubmit","style","position","flex","type","placeholder","onChange","onFocus","onBlur","map","index","onClick","disabled","_recipe$ingredients","_ref","stopPropagation","onReviewAdded","ing","i","Instructions","Directions","step","notes","_c","$RefreshReg$"],"sources":["C:/Users/wjaco/CS351/fgp-group6/frontend/src/App.js"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport axios from \"axios\"\r\nimport \"./App.css\"\r\nimport RecipeReviews from \"./RecipeReviews\"\r\nimport AddReview from \"./AddReview\"\r\nimport TopRatedRecipes from \"./TopRatedRecipes\"\r\n\r\nfunction App() {\r\n  const [recipes, setRecipes] = useState([])\r\n  const [search, setSearch] = useState(\"\")\r\n  const [ingredient, setIngredient] = useState(\"\")\r\n  const [ingredientSuggestions, setIngredientSuggestions] = useState([])\r\n  const [recipeSuggestions, setRecipeSuggestions] = useState([])\r\n  const [showRecipeSuggestions, setShowRecipeSuggestions] = useState(false)\r\n  const [showIngredientSuggestions, setShowIngredientSuggestions] = useState(false)\r\n  const [error, setError] = useState(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const [expandedRecipe, setExpandedRecipe] = useState(null)\r\n  const [scraping, setScraping] = useState(false)\r\n  const [scrapingMessage, setScrapingMessage] = useState(\"\")\r\n  const [fixingRecipe, setFixingRecipe] = useState(false)\r\n  const [showReviews, setShowReviews] = useState(false)\r\n  const [showAddReview, setShowAddReview] = useState(false)\r\n  const [showTopRated, setShowTopRated] = useState(false)\r\n  const [initialLoad, setInitialLoad] = useState(true)\r\n\r\n  // Initial fetch of all recipes when the component mounts\r\n  useEffect(() => {\r\n    fetchRecipes()\r\n\r\n    // Check if we need to auto-scrape\r\n    // This will run once when the component mounts\r\n    const checkRecipeCount = async () => {\r\n      try {\r\n        const res = await axios.get(\"http://127.0.0.1:5000/get-greatlakes\")\r\n        if (res.data && res.data[\"Great Lakes\"] && res.data[\"Great Lakes\"].length < 10) {\r\n          // If we have fewer than 10 recipes, auto-scrape\r\n          autoScrapeRecipes()\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error checking recipe count:\", err)\r\n        // If there's an error, try to auto-scrape anyway\r\n        autoScrapeRecipes()\r\n      }\r\n      setInitialLoad(false)\r\n    }\r\n\r\n    checkRecipeCount()\r\n  }, [])\r\n\r\n  // Function to auto-scrape recipes\r\n  const autoScrapeRecipes = async () => {\r\n    setScraping(true)\r\n    setScrapingMessage(\"Automatically scraping Native American recipes... This may take a few minutes.\")\r\n\r\n    try {\r\n      const response = await axios.get(\"http://127.0.0.1:5000/auto-scrape\")\r\n\r\n      if (response.data.success) {\r\n        setScrapingMessage(`Successfully added ${response.data.new_recipes.length} new Native American recipes!`)\r\n        // Refresh recipes after scraping\r\n        fetchRecipes()\r\n      } else {\r\n        setError(\"Failed to scrape recipes\")\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error auto-scraping recipes:\", err)\r\n      setError(\"Error connecting to server. Please try again.\")\r\n    } finally {\r\n      // Keep the success message visible for a while, then hide it\r\n      setTimeout(() => {\r\n        setScraping(false)\r\n        setScrapingMessage(\"\")\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  // Function to fetch recipes based on search criteria\r\n  const fetchRecipes = async () => {\r\n    setLoading(true)\r\n    setError(null)\r\n\r\n    try {\r\n      console.log(`Fetching recipes with name: \"${search}\" and ingredient: \"${ingredient}\"`)\r\n\r\n      // Build query parameters\r\n      const params = {}\r\n      if (search) params.name = search\r\n      if (ingredient) params.ingredient = ingredient\r\n\r\n      console.log(\"Request params:\", params)\r\n\r\n      const res = await axios.get(\"http://127.0.0.1:5000/get-greatlakes\", { params })\r\n\r\n      console.log(\"Response data:\", res.data)\r\n\r\n      if (res.data && res.data[\"Great Lakes\"]) {\r\n        setRecipes(res.data[\"Great Lakes\"])\r\n\r\n        if (res.data[\"Great Lakes\"].length === 0) {\r\n          setError(\"No recipes found matching your search criteria.\")\r\n        }\r\n      } else {\r\n        console.error(\"Unexpected response format:\", res.data)\r\n        setError(\"Received an unexpected response format from the server.\")\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fetching recipes:\", err)\r\n      setRecipes([])\r\n      setError(\"Unable to connect to the server. Please make sure your Flask backend is running.\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  // Function to fetch recipe name suggestions\r\n  const fetchRecipeSuggestions = async (query) => {\r\n    if (!query || query.length < 2) {\r\n      setRecipeSuggestions([])\r\n      return\r\n    }\r\n\r\n    try {\r\n      const res = await axios.get(`http://127.0.0.1:5000/suggest-recipes?q=${query}`)\r\n      if (res.data && res.data.suggestions) {\r\n        setRecipeSuggestions(res.data.suggestions)\r\n        setShowRecipeSuggestions(true)\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fetching recipe suggestions:\", err)\r\n      setRecipeSuggestions([])\r\n    }\r\n  }\r\n\r\n  // Function to fetch ingredient suggestions\r\n  const fetchIngredientSuggestions = async (query) => {\r\n    if (!query || query.length < 2) {\r\n      setIngredientSuggestions([])\r\n      return\r\n    }\r\n\r\n    try {\r\n      const res = await axios.get(`http://127.0.0.1:5000/suggest-ingredients?q=${query}`)\r\n      if (res.data && res.data.suggestions) {\r\n        setIngredientSuggestions(res.data.suggestions)\r\n        setShowIngredientSuggestions(true)\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fetching ingredient suggestions:\", err)\r\n      setIngredientSuggestions([])\r\n    }\r\n  }\r\n\r\n  // Handle recipe input change for autocomplete\r\n  const handleRecipeChange = (e) => {\r\n    const value = e.target.value\r\n    setSearch(value)\r\n    fetchRecipeSuggestions(value)\r\n  }\r\n\r\n  // Handle ingredient input change\r\n  const handleIngredientChange = (e) => {\r\n    const value = e.target.value\r\n    setIngredient(value)\r\n    fetchIngredientSuggestions(value)\r\n  }\r\n\r\n  // Handle selecting a recipe suggestion\r\n  const selectRecipe = (suggestion) => {\r\n    setSearch(suggestion)\r\n    setShowRecipeSuggestions(false)\r\n  }\r\n\r\n  // Handle selecting an ingredient suggestion\r\n  const selectIngredient = (suggestion) => {\r\n    setIngredient(suggestion)\r\n    setShowIngredientSuggestions(false)\r\n  }\r\n\r\n  // Handle form submission\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    setShowRecipeSuggestions(false)\r\n    setShowIngredientSuggestions(false)\r\n    fetchRecipes()\r\n  }\r\n\r\n  // Toggle expanded recipe\r\n  const toggleRecipe = (idx) => {\r\n    setExpandedRecipe(expandedRecipe === idx ? null : idx)\r\n    setShowReviews(false)\r\n    setShowAddReview(false)\r\n  }\r\n\r\n  // Handle manual scrape button click\r\n  const handleManualScrape = () => {\r\n    autoScrapeRecipes()\r\n  }\r\n\r\n  // Function to fix all missing recipes\r\n  const handleFixMissingRecipes = async () => {\r\n    setFixingRecipe(true)\r\n    setError(null)\r\n\r\n    try {\r\n      const response = await axios.get(\"http://127.0.0.1:5000/fix-missing-recipes\")\r\n\r\n      if (response.data.success) {\r\n        alert(`${response.data.message}. Failed recipes: ${response.data.failed_recipes.join(\", \")}`)\r\n        // Refresh recipes after fixing\r\n        fetchRecipes()\r\n      } else {\r\n        setError(\"Failed to fix recipes\")\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fixing recipes:\", err)\r\n      setError(\"Error connecting to server. Please try again.\")\r\n    } finally {\r\n      setFixingRecipe(false)\r\n    }\r\n  }\r\n\r\n  // Function to fix a specific recipe\r\n  const handleFixRecipe = async (recipeName) => {\r\n    setFixingRecipe(true)\r\n    setError(null)\r\n\r\n    try {\r\n      const response = await axios.get(`http://127.0.0.1:5000/fix-recipe/${encodeURIComponent(recipeName)}`)\r\n\r\n      if (response.data.success) {\r\n        alert(`Successfully fixed recipe: ${recipeName}`)\r\n        // Refresh recipes after fixing\r\n        fetchRecipes()\r\n      } else {\r\n        setError(`Failed to fix recipe: ${recipeName}`)\r\n      }\r\n    } catch (err) {\r\n      console.error(`Error fixing recipe ${recipeName}:`, err)\r\n      setError(`Error fixing recipe: ${recipeName}. Please try again.`)\r\n    } finally {\r\n      setFixingRecipe(false)\r\n    }\r\n  }\r\n\r\n  // Check if a recipe needs fixing\r\n  const recipeNeedsFixing = (recipe) => {\r\n    // Check if ingredients are missing or just have the placeholder\r\n    const missingIngredients =\r\n      !recipe.ingredients || (recipe.ingredients.length === 1 && recipe.ingredients[0] === \"Ingredients not found\")\r\n\r\n    // Check if instructions are missing or just have the placeholder\r\n    const missingInstructions =\r\n      !recipe.instructions || (recipe.instructions.length === 1 && recipe.instructions[0] === \"Instructions not found\")\r\n\r\n    return missingIngredients || missingInstructions\r\n  }\r\n\r\n  // Toggle reviews for a recipe\r\n  const toggleReviews = (idx) => {\r\n    if (expandedRecipe === idx) {\r\n      setShowReviews(!showReviews)\r\n      if (showAddReview) setShowAddReview(false)\r\n    } else {\r\n      setExpandedRecipe(idx)\r\n      setShowReviews(true)\r\n      setShowAddReview(false)\r\n    }\r\n  }\r\n\r\n  // Toggle add review form for a recipe\r\n  const toggleAddReview = (idx) => {\r\n    if (expandedRecipe === idx) {\r\n      setShowAddReview(!showAddReview)\r\n      if (showReviews) setShowReviews(false)\r\n    } else {\r\n      setExpandedRecipe(idx)\r\n      setShowAddReview(true)\r\n      setShowReviews(false)\r\n    }\r\n  }\r\n\r\n  // Toggle top rated recipes\r\n  const toggleTopRated = () => {\r\n    setShowTopRated(!showTopRated)\r\n  }\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <header className=\"app-header\">\r\n        <h1>üç≤ Native American Cuisine: Great Lakes Region</h1>\r\n        <p>Discover traditional recipes from the Great Lakes region</p>\r\n      </header>\r\n\r\n      <main className=\"app-main\">\r\n        {scraping && (\r\n          <div className=\"scraping-message\">\r\n            <div className=\"spinner\"></div>\r\n            <p>{scrapingMessage}</p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"search-container\">\r\n          <h2>Search Recipes</h2>\r\n          <form onSubmit={handleSubmit} className=\"search-form\">\r\n            <div className=\"recipe-search-container\" style={{ position: \"relative\", flex: 1 }}>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search by recipe name\"\r\n                value={search}\r\n                onChange={handleRecipeChange}\r\n                onFocus={() => search && setShowRecipeSuggestions(true)}\r\n                onBlur={() => setTimeout(() => setShowRecipeSuggestions(false), 200)}\r\n                className=\"search-input\"\r\n              />\r\n              {showRecipeSuggestions && recipeSuggestions.length > 0 && (\r\n                <ul className=\"suggestions\">\r\n                  {recipeSuggestions.map((suggestion, index) => (\r\n                    <li key={index} onClick={() => selectRecipe(suggestion)} className=\"suggestion-item\">\r\n                      {suggestion}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"ingredient-search-container\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Filter by ingredient\"\r\n                value={ingredient}\r\n                onChange={handleIngredientChange}\r\n                onFocus={() => ingredient && setShowIngredientSuggestions(true)}\r\n                onBlur={() => setTimeout(() => setShowIngredientSuggestions(false), 200)}\r\n                className=\"search-input\"\r\n              />\r\n              {showIngredientSuggestions && ingredientSuggestions.length > 0 && (\r\n                <ul className=\"ingredient-suggestions\">\r\n                  {ingredientSuggestions.map((suggestion, index) => (\r\n                    <li key={index} onClick={() => selectIngredient(suggestion)} className=\"suggestion-item\">\r\n                      {suggestion}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n            </div>\r\n\r\n            <button type=\"submit\" className=\"search-button\">\r\n              Search\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        {/* Admin controls */}\r\n        <div className=\"admin-controls\">\r\n          <button onClick={handleManualScrape} className=\"admin-button\" disabled={scraping || fixingRecipe}>\r\n            {scraping ? \"Scraping...\" : \"Scrape More Recipes\"}\r\n          </button>\r\n          <button onClick={handleFixMissingRecipes} className=\"admin-button\" disabled={scraping || fixingRecipe}>\r\n            {fixingRecipe ? \"Fixing...\" : \"Fix All Missing Recipes\"}\r\n          </button>\r\n          <button onClick={toggleTopRated} className=\"admin-button\">\r\n            {showTopRated ? \"Hide Top Rated\" : \"Show Top Rated Recipes\"}\r\n          </button>\r\n        </div>\r\n\r\n        {showTopRated && <TopRatedRecipes />}\r\n\r\n        {loading && (\r\n          <div className=\"loading\">\r\n            <div className=\"spinner\"></div>\r\n            <p>Loading recipes...</p>\r\n          </div>\r\n        )}\r\n\r\n        {error && !loading && <div className=\"error-message\">{error}</div>}\r\n\r\n        <div className=\"recipes-container\">\r\n          {recipes.map((recipe, idx) => (\r\n            <div key={idx} className=\"recipe-card\">\r\n              <div className=\"recipe-header\">\r\n                <h2 onClick={() => toggleRecipe(idx)}>{recipe.name}</h2>\r\n                <div className=\"recipe-actions\">\r\n                  {recipeNeedsFixing(recipe) && (\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation()\r\n                        handleFixRecipe(recipe.name)\r\n                      }}\r\n                      className=\"fix-button\"\r\n                      disabled={fixingRecipe}\r\n                    >\r\n                      Fix Recipe\r\n                    </button>\r\n                  )}\r\n                  <button\r\n                    onClick={() => toggleReviews(idx)}\r\n                    className={`review-button ${showReviews && expandedRecipe === idx ? \"active\" : \"\"}`}\r\n                  >\r\n                    Reviews\r\n                  </button>\r\n                  <button\r\n                    onClick={() => toggleAddReview(idx)}\r\n                    className={`add-review-button ${showAddReview && expandedRecipe === idx ? \"active\" : \"\"}`}\r\n                  >\r\n                    Add Review\r\n                  </button>\r\n                  <span onClick={() => toggleRecipe(idx)}>{expandedRecipe === idx ? \"‚ñ≤\" : \"‚ñº\"}</span>\r\n                </div>\r\n              </div>\r\n\r\n              {expandedRecipe === idx && (\r\n                <div className=\"recipe-details\">\r\n                  {showReviews ? (\r\n                    <RecipeReviews recipeName={recipe.name} />\r\n                  ) : showAddReview ? (\r\n                    <AddReview\r\n                      recipeName={recipe.name}\r\n                      onReviewAdded={() => {\r\n                        setShowAddReview(false)\r\n                        setShowReviews(true)\r\n                      }}\r\n                    />\r\n                  ) : (\r\n                    <>\r\n                      <div className=\"ingredients\">\r\n                        <h3>Ingredients</h3>\r\n                        <ul>\r\n                          {recipe.ingredients?.map((ing, i) => (\r\n                            <li key={i}>{ing}</li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n\r\n                      <div className=\"instructions\">\r\n                        <h3>Instructions</h3>\r\n                        <ol>\r\n                          {(recipe.instructions || recipe.Instructions || recipe.Directions)?.map((step, i) => (\r\n                            <li key={i}>{step}</li>\r\n                          ))}\r\n                        </ol>\r\n                      </div>\r\n\r\n                      {recipe.notes && (\r\n                        <div className=\"notes\">\r\n                          <h3>Notes</h3>\r\n                          <p>{recipe.notes}</p>\r\n                        </div>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {recipes.length > 0 && (\r\n          <p className=\"recipe-count\">\r\n            Showing {recipes.length} recipe{recipes.length !== 1 ? \"s\" : \"\"}\r\n          </p>\r\n        )}\r\n      </main>\r\n\r\n      <footer className=\"app-footer\">\r\n        <p>Native American Cuisine Database - Great Lakes Region</p>\r\n      </footer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}